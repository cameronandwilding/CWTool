services:
  cw.logger:
    class: Drupal\PSR3\Logger\Watchdog

  cw.identity-map:
    class: CW\Util\LocalProcessIdentityMap

  cw.object-loader.drupal:
    class: CW\Model\DrupalObjectLoader

  cw.node-controller.factory:
    class: CW\Controller\EntityControllerFactory
    arguments:
      - @cw.identity-map
      - @cw.object-loader.drupal
      - 'CW\Controller\NodeController'
      - 'CW\Model\NodeModel'
      - 'node'

  cw.user-controller.factory:
    class: CW\Controller\UserControllerFactory
    arguments:
      - @cw.identity-map
      - @cw.object-loader.drupal
      - 'CW\Controller\UserController'
      - 'CW\Model\UserModel'
      - 'user'

  cw.node-batch-saver:
    class: CW\Util\EntityBatchSaver
    arguments:
      - @cw.identity-map
      - @cw.logger
